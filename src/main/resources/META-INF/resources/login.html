<html>
<head>
</head>

<body>

<!DOCTYPE html>
<html>
<head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="css/materialize.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>
<header>
    <nav class="teal">
        <div class="nav-wrapper">
            <a href="#" class="brand-logo">Login</a>
        </div>
    </nav>
</header>
<div id="progress-bar" class="progress">
    <div class="indeterminate"></div>
</div>
<main class="container">
    <div class="row">
        <div class="input-field col s12">
            <i class="material-icons prefix primary-color">account_circle</i>
            <input id="login" type="text" class="validate" required>
            <label class="active" for="login">Login</label>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s12">
            <i class="material-icons prefix primary-color">key</i>
            <input id="password" type="password" class="validate" required>
            <label class="active" for="password">Password</label>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s12 center">
            <button class="btn-floating" onclick="login()"><i class="material-icons left">login</i>Login</button>
        </div>
    </div>


</main>

<footer>

</footer>

<script src="/js/materialize.min.js"></script>
<script src="js/api.js"></script>
<script src="js/login-view.js"></script>
<script>

    const showProgressBar = () => {
        document.getElementById("progress-bar").style.display = "block";
    }
    const hideProgressBar = () => {
        document.getElementById("progress-bar").style.display = "none";
    }

    const login = async () => {
        showProgressBar();
        loginView.login();
        hideProgressBar();
    }

    showProgressBar();
    let loginView;
    document.addEventListener("DOMContentLoaded", async () => {
        loginView = new LoginView();
        hideProgressBar();
    });

</script>
</body>
</html>